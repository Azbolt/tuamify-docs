
<!doctype html>
<html>
<head>
  <meta charset="utf-8">
  <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
      <meta
        name="description"
        >
      <meta
        content="Documentation for Lahem"
        >
  <title>Lahem Documentation Reference</title>

  <style media="screen">
    .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight .gh {
  color: #999999;
}
.highlight .sr {
  color: #f6aa11;
}
.highlight .go {
  color: #888888;
}
.highlight .gp {
  color: #555555;
}
.highlight .gs {
}
.highlight .gu {
  color: #aaaaaa;
}
.highlight .nb {
  color: #f6aa11;
}
.highlight .cm {
  color: #75715e;
}
.highlight .cp {
  color: #75715e;
}
.highlight .c1 {
  color: #75715e;
}
.highlight .cs {
  color: #75715e;
}
.highlight .c, .highlight .ch, .highlight .cd, .highlight .cpf {
  color: #75715e;
}
.highlight .err {
  color: #960050;
}
.highlight .gr {
  color: #960050;
}
.highlight .gt {
  color: #960050;
}
.highlight .gd {
  color: #49483e;
}
.highlight .gi {
  color: #49483e;
}
.highlight .ge {
  color: #49483e;
}
.highlight .kc {
  color: #66d9ef;
}
.highlight .kd {
  color: #66d9ef;
}
.highlight .kr {
  color: #66d9ef;
}
.highlight .no {
  color: #66d9ef;
}
.highlight .kt {
  color: #66d9ef;
}
.highlight .mf {
  color: #ae81ff;
}
.highlight .mh {
  color: #ae81ff;
}
.highlight .il {
  color: #ae81ff;
}
.highlight .mi {
  color: #ae81ff;
}
.highlight .mo {
  color: #ae81ff;
}
.highlight .m, .highlight .mb, .highlight .mx {
  color: #ae81ff;
}
.highlight .sc {
  color: #ae81ff;
}
.highlight .se {
  color: #ae81ff;
}
.highlight .ss {
  color: #ae81ff;
}
.highlight .sd {
  color: #e6db74;
}
.highlight .s2 {
  color: #e6db74;
}
.highlight .sb {
  color: #e6db74;
}
.highlight .sh {
  color: #e6db74;
}
.highlight .si {
  color: #e6db74;
}
.highlight .sx {
  color: #e6db74;
}
.highlight .s1 {
  color: #e6db74;
}
.highlight .s, .highlight .sa, .highlight .dl {
  color: #e6db74;
}
.highlight .na {
  color: #a6e22e;
}
.highlight .nc {
  color: #a6e22e;
}
.highlight .nd {
  color: #a6e22e;
}
.highlight .ne {
  color: #a6e22e;
}
.highlight .nf, .highlight .fm {
  color: #a6e22e;
}
.highlight .vc {
  color: #ffffff;
}
.highlight .nn {
  color: #ffffff;
}
.highlight .ni {
  color: #ffffff;
}
.highlight .bp {
  color: #ffffff;
}
.highlight .vg {
  color: #ffffff;
}
.highlight .vi {
  color: #ffffff;
}
.highlight .nv, .highlight .vm {
  color: #ffffff;
}
.highlight .w {
  color: #ffffff;
}
.highlight {
  color: #ffffff;
}
.highlight .n, .highlight .py, .highlight .nx {
  color: #ffffff;
}
.highlight .nl {
  color: #f92672;
}
.highlight .ow {
  color: #f92672;
}
.highlight .nt {
  color: #f92672;
}
.highlight .k, .highlight .kv {
  color: #f92672;
}
.highlight .kn {
  color: #f92672;
}
.highlight .kp {
  color: #f92672;
}
.highlight .o {
  color: #f92672;
}
  </style>
  <style media="print">
    * {
      -webkit-transition: none !important;
      transition: none !important;
    }

    .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight, .highlight .w {
  color: #586e75;
}
.highlight .err {
  color: #002b36;
  background-color: #dc322f;
}
.highlight .c, .highlight .ch, .highlight .cd, .highlight .cm, .highlight .cpf, .highlight .c1, .highlight .cs {
  color: #657b83;
}
.highlight .cp {
  color: #b58900;
}
.highlight .nt {
  color: #b58900;
}
.highlight .o, .highlight .ow {
  color: #93a1a1;
}
.highlight .p, .highlight .pi {
  color: #93a1a1;
}
.highlight .gi {
  color: #859900;
}
.highlight .gd {
  color: #dc322f;
}
.highlight .gh {
  color: #268bd2;
  background-color: #002b36;
  font-weight: bold;
}
.highlight .k, .highlight .kn, .highlight .kp, .highlight .kr, .highlight .kv {
  color: #6c71c4;
}
.highlight .kc {
  color: #cb4b16;
}
.highlight .kt {
  color: #cb4b16;
}
.highlight .kd {
  color: #cb4b16;
}
.highlight .s, .highlight .sb, .highlight .sc, .highlight .dl, .highlight .sd, .highlight .s2, .highlight .sh, .highlight .sx, .highlight .s1 {
  color: #859900;
}
.highlight .sa {
  color: #6c71c4;
}
.highlight .sr {
  color: #2aa198;
}
.highlight .si {
  color: #d33682;
}
.highlight .se {
  color: #d33682;
}
.highlight .nn {
  color: #b58900;
}
.highlight .nc {
  color: #b58900;
}
.highlight .no {
  color: #b58900;
}
.highlight .na {
  color: #268bd2;
}
.highlight .m, .highlight .mb, .highlight .mf, .highlight .mh, .highlight .mi, .highlight .il, .highlight .mo, .highlight .mx {
  color: #859900;
}
.highlight .ss {
  color: #859900;
}
  </style>
  <link href="stylesheets/screen-c9d8fa83.css" rel="stylesheet" media="screen" />
  <link href="stylesheets/print-953e3353.css" rel="stylesheet" media="print" />
    <script src="javascripts/all-b12a2749.js"></script>

    <script>
      $(function () {
        setupCodeCopy();
      });
    </script>

  <link href="https://fonts.googleapis.com/icon?family=Material+Icons"
        rel="stylesheet">
</head>

<body class="index" data-languages="[&quot;graphql&quot;]">
<a href="#" id="nav-button">
      <span>
        NAV
        <img src="images/navbar-cad8cdcb.png" alt="" />
      </span>
</a>
<div class="toc-wrapper">
  <img src="images/logo-7ec2b0a4.png" class="logo" alt="" />
    <div class="lang-selector">
          <a href="#" data-language-name="graphql">graphql</a>
    </div>
    <div style="display: flex; flex: 0 0 auto; align-items: center; margin: 15px 25px 10px;">
      <div style="border: 1px solid rgb(77, 198, 231); display: flex; align-items: center; justify-content: center; height: 33px; width: 33px;">
        <i class="material-icons" style="font-size: 20px; color: rgb(77, 198, 231);">library_books</i></div>
      <span style="color: rgb(255, 255, 255); font-size: 18px; font-weight: 500; margin-left: 10px;">API Docs</span>
    </div>
    <div class="search">
      <input type="text" class="search" id="input-search" placeholder="Search">
    </div>
    <ul class="search-results"></ul>
  <ul id="toc" class="toc-list-h1">
        <li>
          <a href="#user" class="toc-h1 toc-link" data-title="User">User</a>
            <ul class="toc-list-h2">
                <li>
                  <a href="#permissions" class="toc-h2 toc-link" data-title="Permissions">Permissions</a>
                </li>
                <li>
                  <a href="#create-a-user" class="toc-h2 toc-link" data-title="Create a user">Create a user</a>
                </li>
                <li>
                  <a href="#get-users-by-restaurant" class="toc-h2 toc-link" data-title="Get users by restaurant">Get users by restaurant</a>
                </li>
                <li>
                  <a href="#return-user-by-id" class="toc-h2 toc-link" data-title="Return user by Id">Return user by Id</a>
                </li>
            </ul>
        </li>
        <li>
          <a href="#address" class="toc-h1 toc-link" data-title="Address">Address</a>
            <ul class="toc-list-h2">
                <li>
                  <a href="#permissions-2" class="toc-h2 toc-link" data-title="Permissions">Permissions</a>
                </li>
                <li>
                  <a href="#create-an-address" class="toc-h2 toc-link" data-title="Create an address">Create an address</a>
                </li>
                <li>
                  <a href="#update-an-address" class="toc-h2 toc-link" data-title="Update an address">Update an address</a>
                </li>
                <li>
                  <a href="#delete-an-address" class="toc-h2 toc-link" data-title="Delete an address">Delete an address</a>
                </li>
                <li>
                  <a href="#get-address-by-user-id" class="toc-h2 toc-link" data-title="Get address by user id">Get address by user id</a>
                </li>
            </ul>
        </li>
        <li>
          <a href="#menu-category" class="toc-h1 toc-link" data-title="Menu Category">Menu Category</a>
            <ul class="toc-list-h2">
                <li>
                  <a href="#permissions-3" class="toc-h2 toc-link" data-title="Permissions">Permissions</a>
                </li>
                <li>
                  <a href="#create-a-menu-category" class="toc-h2 toc-link" data-title="Create a menu category">Create a menu category</a>
                </li>
                <li>
                  <a href="#update-a-menu-category" class="toc-h2 toc-link" data-title="Update a menu category">Update a menu category</a>
                </li>
                <li>
                  <a href="#delete-a-menu-category" class="toc-h2 toc-link" data-title="Delete a menu category">Delete a menu category</a>
                </li>
                <li>
                  <a href="#subscribe-to-whole-menu-by-restaurant-id" class="toc-h2 toc-link" data-title="Subscribe to whole menu by restaurant id">Subscribe to whole menu by restaurant id</a>
                </li>
            </ul>
        </li>
        <li>
          <a href="#menu-item" class="toc-h1 toc-link" data-title="Menu Item">Menu Item</a>
            <ul class="toc-list-h2">
                <li>
                  <a href="#permissions-4" class="toc-h2 toc-link" data-title="Permissions">Permissions</a>
                </li>
                <li>
                  <a href="#create-a-menu-item" class="toc-h2 toc-link" data-title="Create a menu item">Create a menu item</a>
                </li>
                <li>
                  <a href="#update-a-menu-item" class="toc-h2 toc-link" data-title="Update a menu item">Update a menu item</a>
                </li>
                <li>
                  <a href="#delete-a-menu-item" class="toc-h2 toc-link" data-title="Delete a menu item">Delete a menu item</a>
                </li>
            </ul>
        </li>
        <li>
          <a href="#menu-item-variation-group" class="toc-h1 toc-link" data-title="Menu Item Variation Group">Menu Item Variation Group</a>
            <ul class="toc-list-h2">
                <li>
                  <a href="#permissions-5" class="toc-h2 toc-link" data-title="Permissions">Permissions</a>
                </li>
                <li>
                  <a href="#create-a-menu-item-variation-group" class="toc-h2 toc-link" data-title="Create a menu item variation group">Create a menu item variation group</a>
                </li>
                <li>
                  <a href="#update-a-menu-item-variation-group" class="toc-h2 toc-link" data-title="Update a menu item variation group">Update a menu item variation group</a>
                </li>
                <li>
                  <a href="#delete-a-menu-item-variation-group" class="toc-h2 toc-link" data-title="Delete a menu item variation group">Delete a menu item variation group</a>
                </li>
            </ul>
        </li>
        <li>
          <a href="#menu-item-variation" class="toc-h1 toc-link" data-title="Menu Item Variation">Menu Item Variation</a>
            <ul class="toc-list-h2">
                <li>
                  <a href="#permissions-6" class="toc-h2 toc-link" data-title="Permissions">Permissions</a>
                </li>
                <li>
                  <a href="#create-a-menu-item-variation" class="toc-h2 toc-link" data-title="Create a menu item variation">Create a menu item variation</a>
                </li>
                <li>
                  <a href="#update-a-menu-item-variation" class="toc-h2 toc-link" data-title="Update a menu item variation">Update a menu item variation</a>
                </li>
                <li>
                  <a href="#delete-a-menu-item-variation" class="toc-h2 toc-link" data-title="Delete a menu item variation">Delete a menu item variation</a>
                </li>
            </ul>
        </li>
        <li>
          <a href="#cart" class="toc-h1 toc-link" data-title="Cart">Cart</a>
            <ul class="toc-list-h2">
                <li>
                  <a href="#permissions-7" class="toc-h2 toc-link" data-title="Permissions">Permissions</a>
                </li>
                <li>
                  <a href="#subscribe-to-active-cart-by-user" class="toc-h2 toc-link" data-title="Subscribe to active cart by user">Subscribe to active cart by user</a>
                </li>
                <li>
                  <a href="#create-a-cart" class="toc-h2 toc-link" data-title="Create a cart">Create a cart</a>
                </li>
                <li>
                  <a href="#update-a-cart" class="toc-h2 toc-link" data-title="Update a cart">Update a cart</a>
                </li>
                <li>
                  <a href="#delete-a-cart" class="toc-h2 toc-link" data-title="Delete a cart">Delete a cart</a>
                </li>
            </ul>
        </li>
        <li>
          <a href="#cart-menu-item" class="toc-h1 toc-link" data-title="Cart Menu Item">Cart Menu Item</a>
            <ul class="toc-list-h2">
                <li>
                  <a href="#permissions-8" class="toc-h2 toc-link" data-title="Permissions">Permissions</a>
                </li>
                <li>
                  <a href="#create-a-cart-menu-item" class="toc-h2 toc-link" data-title="Create a cart menu item">Create a cart menu item</a>
                </li>
                <li>
                  <a href="#update-a-cart-menu-item" class="toc-h2 toc-link" data-title="Update a cart menu item">Update a cart menu item</a>
                </li>
                <li>
                  <a href="#delete-a-cart-menu-item" class="toc-h2 toc-link" data-title="Delete a cart menu item">Delete a cart menu item</a>
                </li>
            </ul>
        </li>
        <li>
          <a href="#cart-menu-item-variation" class="toc-h1 toc-link" data-title="Cart Menu Item Variation">Cart Menu Item Variation</a>
            <ul class="toc-list-h2">
                <li>
                  <a href="#permissions-9" class="toc-h2 toc-link" data-title="Permissions">Permissions</a>
                </li>
                <li>
                  <a href="#create-a-cart-menu-item-variation" class="toc-h2 toc-link" data-title="Create a cart menu item variation">Create a cart menu item variation</a>
                </li>
                <li>
                  <a href="#update-a-cart-menu-item-variation" class="toc-h2 toc-link" data-title="Update a cart menu item variation">Update a cart menu item variation</a>
                </li>
                <li>
                  <a href="#delete-a-cart-menu-item-variation" class="toc-h2 toc-link" data-title="Delete a cart menu item variation">Delete a cart menu item variation</a>
                </li>
            </ul>
        </li>
        <li>
          <a href="#order" class="toc-h1 toc-link" data-title="Order">Order</a>
            <ul class="toc-list-h2">
                <li>
                  <a href="#permissions-10" class="toc-h2 toc-link" data-title="Permissions">Permissions</a>
                </li>
                <li>
                  <a href="#create-an-order" class="toc-h2 toc-link" data-title="Create an order">Create an order</a>
                </li>
                <li>
                  <a href="#update-an-order" class="toc-h2 toc-link" data-title="Update an order">Update an order</a>
                </li>
                <li>
                  <a href="#get-orders-by-user" class="toc-h2 toc-link" data-title="Get orders by user">Get orders by user</a>
                </li>
                <li>
                  <a href="#get-orders-by-restaurant" class="toc-h2 toc-link" data-title="Get orders by restaurant">Get orders by restaurant</a>
                </li>
            </ul>
        </li>
  </ul>
    <ul class="toc-footer">
        <li><a href='https://github.com/Azbolt/tuamify-docs'>Documentation hosted at GitHub</a></li>
    </ul>
</div>
<div class="page-wrapper">
  <div class="dark-box"></div>
  <div class="content">
    <h1 id='user'>User</h1>
<aside class="notice">
  Please view <a href="https://www.notion.so/tuamify/User-cbb56104560445e699584e2492b0f520" target="_blank">User model</a> in data dictionary.
</aside>
<h2 id='permissions'>Permissions</h2>
<table><thead>
<tr>
<th>Role</th>
<th>insert</th>
<th>select</th>
<th>update</th>
<th>delete</th>
</tr>
</thead><tbody>
<tr>
<td>admin</td>
<td>Yes</td>
<td>Yes</td>
<td>Yes</td>
<td>Yes</td>
</tr>
<tr>
<td>owner</td>
<td>No</td>
<td>Only users belonging to same restaurant</td>
<td>No</td>
<td>No</td>
</tr>
<tr>
<td>user</td>
<td>No</td>
<td>Only own user record</td>
<td>Can only update <code>password</code> and <code>name</code> columns</td>
<td>No</td>
</tr>
<tr>
<td>anon</td>
<td>Yes</td>
<td>No</td>
<td>No</td>
<td>No</td>
</tr>
</tbody></table>
<h2 id='create-a-user'>Create a user</h2><div class="highlight"><pre class="highlight graphql tab-graphql"><code><span class="k">mutation</span><span class="w"> </span><span class="n">insertUserOne</span><span class="p">(</span><span class="nv">$email</span><span class="p">:</span><span class="w"> </span><span class="nb">String</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w"> </span><span class="nv">$name</span><span class="p">:</span><span class="w"> </span><span class="nb">String</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w"> </span><span class="nv">$password</span><span class="p">:</span><span class="w"> </span><span class="nb">String</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w"> </span><span class="nv">$phone_number</span><span class="p">:</span><span class="w"> </span><span class="nb">String</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w"> </span><span class="nv">$restaurant_id</span><span class="p">:</span><span class="w"> </span><span class="n">uuid</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="s2">""</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
  </span><span class="n">UserCreate</span><span class="p">(</span><span class="n">password</span><span class="p">:</span><span class="w"> </span><span class="nv">$password</span><span class="p">,</span><span class="w"> </span><span class="n">phone_number</span><span class="p">:</span><span class="w"> </span><span class="nv">$phone_number</span><span class="p">,</span><span class="w"> </span><span class="n">restaurant_id</span><span class="p">:</span><span class="w"> </span><span class="nv">$restaurant_id</span><span class="p">,</span><span class="w"> </span><span class="n">email</span><span class="p">:</span><span class="w"> </span><span class="nv">$email</span><span class="p">,</span><span class="w"> </span><span class="n">name</span><span class="p">:</span><span class="w"> </span><span class="nv">$name</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="n">id</span><span class="w">
    </span><span class="n">message</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Creates a new user. All parameters are required.</p>

<aside class="notice">
  Insert permissions apply.
</aside>
<h2 id='get-users-by-restaurant'>Get users by restaurant</h2><div class="highlight"><pre class="highlight graphql tab-graphql"><code><span class="k">query</span><span class="w"> </span><span class="n">getUsersByRestaurant</span><span class="p">(</span><span class="nv">$_eq</span><span class="p">:</span><span class="w"> </span><span class="n">uuid</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="s2">""</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
  </span><span class="n">tuamify_User</span><span class="p">(</span><span class="n">where</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="n">restaurant_id</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="n">_eq</span><span class="p">:</span><span class="w"> </span><span class="nv">$_eq</span><span class="p">}})</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="n">restaurant_id</span><span class="w">
    </span><span class="n">phone_number</span><span class="w">
    </span><span class="n">name</span><span class="w">
    </span><span class="n">id</span><span class="w">
    </span><span class="n">is_admin</span><span class="w">
    </span><span class="n">email</span><span class="w">
    </span><span class="n">created_at</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Returns a list of users belonging to the restaurant with given id.</p>

<aside class="notice">
  Select permissions apply.
</aside>
<h2 id='return-user-by-id'>Return user by Id</h2><div class="highlight"><pre class="highlight graphql tab-graphql"><code><span class="k">query</span><span class="w"> </span><span class="n">getUserById</span><span class="p">(</span><span class="nv">$id</span><span class="p">:</span><span class="w"> </span><span class="n">uuid</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="s2">""</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
  </span><span class="n">tuamify_User_by_pk</span><span class="p">(</span><span class="n">id</span><span class="p">:</span><span class="w"> </span><span class="nv">$id</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="n">created_at</span><span class="w">
    </span><span class="n">email</span><span class="w">
    </span><span class="n">restaurant_id</span><span class="w">
    </span><span class="n">phone_number</span><span class="w">
    </span><span class="n">name</span><span class="w">
    </span><span class="n">is_admin</span><span class="w">
    </span><span class="n">id</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Returns a user object with given id.</p>

<aside class="notice">
  Select permissions apply.
</aside>
<h1 id='address'>Address</h1>
<aside class="notice">
  Please view <a href="https://www.notion.so/tuamify/Address-6a03a692dd67427787a8d3dded69bd1a" target="_blank">Address model</a> in data dictionary.
</aside>
<h2 id='permissions-2'>Permissions</h2>
<table><thead>
<tr>
<th>Role</th>
<th>insert</th>
<th>select</th>
<th>update</th>
<th>delete</th>
</tr>
</thead><tbody>
<tr>
<td>admin</td>
<td>Yes</td>
<td>Yes</td>
<td>Yes</td>
<td>Yes</td>
</tr>
<tr>
<td>owner</td>
<td>No</td>
<td>Only addresses of the users belonging to same restaurant</td>
<td>Can only update <code>name</code>, <code>longitude</code>, <code>latitude</code> and <code>street_address</code> columns of addresses of the users belonging to same restaurant</td>
<td>No</td>
</tr>
<tr>
<td>user</td>
<td>No</td>
<td>Only addresses belonging to own user record</td>
<td>Can only update <code>name</code>, <code>default</code>, <code>longitude</code>, <code>latitude</code> and <code>street_address</code> columns of addresses belonging to own user record</td>
<td>Only addresses belonging to own user record</td>
</tr>
<tr>
<td>anon</td>
<td>No</td>
<td>No</td>
<td>No</td>
<td>No</td>
</tr>
</tbody></table>
<h2 id='create-an-address'>Create an address</h2><div class="highlight"><pre class="highlight graphql tab-graphql"><code><span class="k">mutation</span><span class="w"> </span><span class="n">insertAddressOne</span><span class="p">(</span><span class="nv">$set</span><span class="p">:</span><span class="w"> </span><span class="n">tuamify_Address_insert_input</span><span class="p">!)</span><span class="w"> </span><span class="p">{</span><span class="w">
  </span><span class="n">insert_tuamify_Address_one</span><span class="p">(</span><span class="n">object</span><span class="p">:</span><span class="w"> </span><span class="nv">$set</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="n">default</span><span class="w">
    </span><span class="n">id</span><span class="w">
    </span><span class="n">latitude</span><span class="w">
    </span><span class="n">longitude</span><span class="w">
    </span><span class="n">name</span><span class="w">
    </span><span class="n">street_address</span><span class="w">
    </span><span class="n">user_id</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Creates a new address. Please view data dictionary to see required fields.</p>

<aside class="notice">Insert permissions apply.</aside>
<h2 id='update-an-address'>Update an address</h2><h2 id='delete-an-address'>Delete an address</h2><div class="highlight"><pre class="highlight graphql tab-graphql"><code><span class="k">mutation</span><span class="w"> </span><span class="n">deleteAddressById</span><span class="p">(</span><span class="nv">$id</span><span class="p">:</span><span class="w"> </span><span class="n">uuid</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="s2">""</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
  </span><span class="n">delete_tuamify_Address_by_pk</span><span class="p">(</span><span class="n">id</span><span class="p">:</span><span class="w"> </span><span class="nv">$id</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="n">default</span><span class="w">
    </span><span class="n">id</span><span class="w">
    </span><span class="n">latitude</span><span class="w">
    </span><span class="n">longitude</span><span class="w">
    </span><span class="n">name</span><span class="w">
    </span><span class="n">user_id</span><span class="w">
    </span><span class="n">street_address</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Deletes an address with given id.</p>

<aside class="notice">Delete permissions apply</aside>
<h2 id='get-address-by-user-id'>Get address by user id</h2><div class="highlight"><pre class="highlight graphql tab-graphql"><code><span class="k">query</span><span class="w"> </span><span class="n">getAddressByUserId</span><span class="p">(</span><span class="nv">$user_id</span><span class="p">:</span><span class="w"> </span><span class="n">uuid</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="s2">""</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
  </span><span class="n">tuamify_Address</span><span class="p">(</span><span class="n">where</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="n">user_id</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="n">_eq</span><span class="p">:</span><span class="w"> </span><span class="nv">$user_id</span><span class="p">}})</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="n">default</span><span class="w">
    </span><span class="n">latitude</span><span class="w">
    </span><span class="n">id</span><span class="w">
    </span><span class="n">longitude</span><span class="w">
    </span><span class="n">name</span><span class="w">
    </span><span class="n">street_address</span><span class="w">
    </span><span class="n">user_id</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Returns a list of addresses belonging to user with given id.</p>

<aside class="notice">Select permissions apply</aside>
<h1 id='menu-category'>Menu Category</h1>
<aside class="notice">
  Please view <a href="https://www.notion.so/tuamify/MenuCategory-e1aac987a24044cfa08ca9892ba3b8fa" target="_blank">Menu Category model</a> in data dictionary.
</aside>
<h2 id='permissions-3'>Permissions</h2>
<table><thead>
<tr>
<th>Role</th>
<th>insert</th>
<th>select</th>
<th>update</th>
<th>delete</th>
</tr>
</thead><tbody>
<tr>
<td>admin</td>
<td>Yes</td>
<td>Yes</td>
<td>Yes</td>
<td>Yes</td>
</tr>
<tr>
<td>owner</td>
<td>Can only insert <code>name</code> column</td>
<td>Only menu categories belonging to same restaurant</td>
<td>Can only update <code>name</code> column of menu categories belonging to same restaurant</td>
<td>Only menu categories belonging to same restaurant</td>
</tr>
<tr>
<td>user</td>
<td>No</td>
<td>Only menu categories belonging to same restaurant</td>
<td>No</td>
<td>No</td>
</tr>
<tr>
<td>anon</td>
<td>No</td>
<td>Yes</td>
<td>No</td>
<td>No</td>
</tr>
</tbody></table>
<h2 id='create-a-menu-category'>Create a menu category</h2><h2 id='update-a-menu-category'>Update a menu category</h2><h2 id='delete-a-menu-category'>Delete a menu category</h2><h2 id='subscribe-to-whole-menu-by-restaurant-id'>Subscribe to whole menu by restaurant id</h2><div class="highlight"><pre class="highlight graphql tab-graphql"><code><span class="k">subscription</span><span class="w"> </span><span class="n">subscribeMenuByRestaurantId</span><span class="w"> </span><span class="p">{</span><span class="w">
  </span><span class="n">tuamify_MenuCategory</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="n">id</span><span class="w">
    </span><span class="n">name</span><span class="w">
    </span><span class="n">MenuItems</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="n">price</span><span class="w">
      </span><span class="n">photo</span><span class="w">
      </span><span class="n">name</span><span class="w">
      </span><span class="n">menu_category_id</span><span class="w">
      </span><span class="n">id</span><span class="w">
      </span><span class="n">description</span><span class="w">
      </span><span class="n">MenuItemVariationGroups</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="n">required</span><span class="w">
        </span><span class="n">menu_item_id</span><span class="w">
        </span><span class="n">name</span><span class="w">
        </span><span class="n">allow_multiple_selection</span><span class="w">
        </span><span class="n">id</span><span class="w">
        </span><span class="n">MenuItemVariations</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="n">price</span><span class="w">
          </span><span class="n">name</span><span class="w">
          </span><span class="n">menu_item_variation_group_id</span><span class="w">
          </span><span class="n">id</span><span class="w">
          </span><span class="n">description</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
    </span><span class="n">restaurant_id</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Returns a list of menu categories belonging to restaurant with given id. Each menu category has nested menu items. Each
menu item has nested menu item variation groups. Each menu item variation group has nested menu item variations.</p>

<aside class="notice">Select permissions apply.</aside>
<h1 id='menu-item'>Menu Item</h1><h2 id='permissions-4'>Permissions</h2><h2 id='create-a-menu-item'>Create a menu item</h2><h2 id='update-a-menu-item'>Update a menu item</h2><h2 id='delete-a-menu-item'>Delete a menu item</h2><h1 id='menu-item-variation-group'>Menu Item Variation Group</h1><h2 id='permissions-5'>Permissions</h2><h2 id='create-a-menu-item-variation-group'>Create a menu item variation group</h2><h2 id='update-a-menu-item-variation-group'>Update a menu item variation group</h2><h2 id='delete-a-menu-item-variation-group'>Delete a menu item variation group</h2><h1 id='menu-item-variation'>Menu Item Variation</h1><h2 id='permissions-6'>Permissions</h2><h2 id='create-a-menu-item-variation'>Create a menu item variation</h2><h2 id='update-a-menu-item-variation'>Update a menu item variation</h2><h2 id='delete-a-menu-item-variation'>Delete a menu item variation</h2><h1 id='cart'>Cart</h1><h2 id='permissions-7'>Permissions</h2><h2 id='subscribe-to-active-cart-by-user'>Subscribe to active cart by user</h2><h2 id='create-a-cart'>Create a cart</h2><h2 id='update-a-cart'>Update a cart</h2><h2 id='delete-a-cart'>Delete a cart</h2><h1 id='cart-menu-item'>Cart Menu Item</h1><h2 id='permissions-8'>Permissions</h2><h2 id='create-a-cart-menu-item'>Create a cart menu item</h2><h2 id='update-a-cart-menu-item'>Update a cart menu item</h2><h2 id='delete-a-cart-menu-item'>Delete a cart menu item</h2><h1 id='cart-menu-item-variation'>Cart Menu Item Variation</h1><h2 id='permissions-9'>Permissions</h2><h2 id='create-a-cart-menu-item-variation'>Create a cart menu item variation</h2><h2 id='update-a-cart-menu-item-variation'>Update a cart menu item variation</h2><h2 id='delete-a-cart-menu-item-variation'>Delete a cart menu item variation</h2><h1 id='order'>Order</h1><h2 id='permissions-10'>Permissions</h2><h2 id='create-an-order'>Create an order</h2><h2 id='update-an-order'>Update an order</h2><h2 id='get-orders-by-user'>Get orders by user</h2><h2 id='get-orders-by-restaurant'>Get orders by restaurant</h2>
  </div>
  <div class="dark-box">
      <div class="lang-selector">
            <a href="#" data-language-name="graphql">graphql</a>
      </div>
  </div>
</div>
</body>
</html>
